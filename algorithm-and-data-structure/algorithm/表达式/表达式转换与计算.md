# 表达式转换与计算

### 前缀/后缀表达式：

离操作数最近的操作符最先计算



### 全括号表达式

全括号表达式->后缀表达式：操作符代替右括号，删去左括号

全括号表达式->前缀表达式：操作符代替左括号，删去右括号



### 中缀表达式->后缀表达式

从左到右扫描中缀表达式单词列表
如果单词是操作数,则直接添加到后缀表达式列表的末尾
如果单词是左括号“(”,则压入 operator_stack栈顶
如果单词是右括号“)”,则反复弹出 operator_stack栈顶操作符,加入到输出列表末尾,直到碰到左括号
如果单词是操作符“*/+-”,则压入 operator_stack栈顶

- 但在压入之前,要比较其与栈顶操作符的优先级
- 如果栈顶的高于或等于它,就要反复弹出栈顶操作符加入到输出列表末尾
- 直到栈顶的操作符优先级低于它



### 后缀(逆波兰)表达式求值

从左到右扫描后缀表达式列表，先遇到左操作数，再遇到右操作数，最后遇到操作符。

从左到右最先遇到的操作符即为最靠近操作数的操作符，是优先级最高的操作符。

将操作数存到栈中，一旦遇到操作符就取出栈顶的两个操作数，计算结果，推入栈中，直到遍历结束后栈内只有一个操作数，即为答案。



### 全括号表达式->表达式树

从左到右扫描全括号表达式的每个单词

如果当前单词是"(": 为当前节点添加一个新节点作为其左子节点，当前节点下降为这个新节点

如果当前单词是操作符"+,-,/,*": 将当前节点的值设为此符号，为当前节点添加一个新节点作为其右子节点，当前节点下降为这个新节点

如果当前单词是操作数：将当前节点的值设为此数，当前节点上升到父节点

如果当前单词是")": 则当前节点上升到父节点

（父节点用栈来存）