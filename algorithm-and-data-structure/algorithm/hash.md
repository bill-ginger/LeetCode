## 特性

### 散列函数特性：

- 冲突少
- 计算难度低(节约计算成本)
- 充分分散数据项(节约内存)

### 数据摘要函数特性：

- 压缩性(散列值长度固定)
- 易计算性(计算散列值容易，逆推不可能)
- 抗修改性(原数据小变动引起散列值大变动)
- 抗冲突性(已知原数据和散列值，难以伪造相同散列值的其他原数据)



## 散列函数设计

### 折叠法：

- 将数据项按照位数分为若干段，
  再将几段数字相加，
  最后对散列表大小求余，得到散列值

- 使用隔数翻转(如76->67)来进行微调

### 平方取中法：

先平方，再取中间两位，再对长度求余

### 字符类：

- 取各字符ascii码累加
- 乘权重因子区分变位词



## 冲突解决

### 开放定址：

解决散列的一种方法就是为冲突的数据项再找一个开放的空槽来保存

这种寻找空槽的技术称为“开放定址”open addressing

- 线性探测：

  - 最简单的开放地址就是从冲突的槽开始往后扫描，直到碰到一个空槽。

    如果到散列表尾部还未找到空槽，则从首部接着扫描。

    向后逐个槽寻找的方法则是开放定址技术中的“线性探测” linear probing

  - 查找时：如果在散列位置没有找到查找项的话,就必须向后做顺序查找，直到找到查找项或者碰到空槽(查找失败)。
  - 缺点：有聚集的趋势
  - 改进：从逐个探测改为跳跃探测


- rehashing

  通用：``newhashvalue = rehash(oldhashvalue)``

  线性探测：``rehash(pos) = (pos + 1) % sizeof(table)``

  跳跃式探测：``rehash(pos) = (pos + skip) % sizeof(table)``，skip不能被散列表大小整除，所以把散列表大小设计成素数

  二次探测：skip=1, 3, 5…槽号是原散列值以平方数递增：h, h+1, h+4, h+9…

### 数据链Chaining

每一个槽可以容纳一个集合，有新的冲突时挂在集合里，寻找时顺序查找

### 复杂度分析

设负载因子(数据项数量/表大小)为$\lambda$

线性探测的开放定址法$\lambda\in(0,1)$：成功的查找平均比对次数$\frac{1}{2}(1+\frac{1}{1-\lambda})$，失败的平均比对次数$\frac{1}{2}(1+(\frac{1}{1-\lambda})^2)$

数据链$\lambda$可以大于1：成功的查找平均比对次数$1+\frac{\lambda}{2}$，失败的平均比对次数$\lambda$

